function essb_popup_show(){jQuery.fn.extend({center:function(){return this.each(function(){var e=(jQuery(window).height()-jQuery(this).outerHeight())/2,t=(jQuery(window).width()-jQuery(this).outerWidth())/2;jQuery(this).css({position:"fixed",margin:0,top:(e>0?e:0)+"px",left:(t>0?t:0)+"px"})})}});var e=jQuery(window).width(),t=(jQuery("document").height(),800);t>e&&(t=e-60);var s=jQuery(".essb_displayed_popup").html(),i=jQuery("#essb_settings_popup_title").val(),n=jQuery("#essb_settings_popup_close").val(),o=jQuery("#essb_settings_popup_template").val();if(""!=s){s='<div class="essb_popup"><h3>'+i+'</h3><div class="essb_popup_content"><div class="essb_links essb_popup_counters essb_template_'+o+'">'+s+'</div><div class="essb_popup_button_close"><button onclick="essb_popup_close(); return false;">CLOSE</button></div><div class="essb_popup_counter"><div class="essb_popup_counter_text"></div></div></div></div><div class="essb_popup_shadow"></div>',jQuery("body").append(s),jQuery(".essb_popup").css({width:t+"px"}),jQuery(".essb_popup").center(),""!=n&&Number(n)&&(shortly=new Date,shortly.setSeconds(shortly.getSeconds()+Number(n)),jQuery(".essb_popup_counter_text").countdown({until:shortly,onExpiry:essb_popup_close,onTick:watchCountdown}));var r=jQuery("#essb_settings_popup_counters").val();r&&"undefined"!=typeof r&&"yes"==r&&(jQuery(".essb_links.essb_popup_counters").essb_get_counters(),jQuery(".essb_popup_counters .essb_links_list").essb_update_counters())}}function essb_popup_close(){jQuery(".essb_popup").css({display:"none"}),jQuery(".essb_popup_shadow").css({display:"none"})}function watchCountdown(e){jQuery(".essb_popup_counter_text").text("Window will automatically close in "+e[6]+" sec")}jQuery(document).ready(function(e){var t=e("#essb_settings_popup_popafter").val();t&&"undefined"!=typeof t?""!=t&&Number(t)?(shortly1=new Date,shortly1.setSeconds(shortly1.getSeconds()+Number(t)),jQuery("#essb_settings_popafter_counter").countdown({until:shortly1,onExpiry:essb_popup_show})):essb_popup_show():essb_popup_show()}),function(e){function t(){function t(e){var r=1e12>e?i?performance.now()+performance.timing.navigationStart:s():e||s();r-o>=1e3&&(u._updateTargets(),o=r),n(t)}this.regional=[],this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},e.extend(this._defaults,this.regional[""]),this._serverSyncs=[];var s="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},i=window.performance&&"function"==typeof window.performance.now,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,o=0;!n||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,setInterval(function(){u._updateTargets()},980)):(o=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||s(),n(t))}function s(t,s){return"option"==t&&(0==s.length||1==s.length&&"string"==typeof s[0])?!0:e.inArray(t,_)>-1}var i=0,n=1,o=2,r=3,a=4,p=5,l=6;e.extend(t.prototype,{markerClassName:"hasCountdown1",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(t){this._resetExtraLabels(this._defaults,t),e.extend(this._defaults,t||{})},UTCDate:function(e,t,s,i,n,o,r,a){"object"==typeof t&&t.constructor==Date&&(a=t.getMilliseconds(),r=t.getSeconds(),o=t.getMinutes(),n=t.getHours(),i=t.getDate(),s=t.getMonth(),t=t.getFullYear());var p=new Date;return p.setUTCFullYear(t),p.setUTCDate(1),p.setUTCMonth(s||0),p.setUTCDate(i||1),p.setUTCHours(n||0),p.setUTCMinutes((o||0)-(Math.abs(e)<30?60*e:e)),p.setUTCSeconds(r||0),p.setUTCMilliseconds(a||0),p},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},_attachPlugin:function(t,s){if(t=e(t),!t.hasClass(this.markerClassName)){var i={options:e.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};t.addClass(this.markerClassName).data(this.propertyName,i),this._optionPlugin(t,s)}},_addTarget:function(e){this._hasTarget(e)||this._timerTargets.push(e)},_hasTarget:function(t){return e.inArray(t,this._timerTargets)>-1},_removeTarget:function(t){this._timerTargets=e.map(this._timerTargets,function(e){return e==t?null:e})},_updateTargets:function(){for(var e=this._timerTargets.length-1;e>=0;e--)this._updateCountdown(this._timerTargets[e])},_optionPlugin:function(t,s,i){t=e(t);var n=t.data(this.propertyName);if(!s||"string"==typeof s&&null==i){var o=s;return s=(n||{}).options,s&&o?s[o]:s}if(t.hasClass(this.markerClassName)){if(s=s||{},"string"==typeof s){var o=s;s={},s[o]=i}s.layout&&(s.layout=s.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(n.options,s);var r=n.options.timezone!=s.timezone;e.extend(n.options,s),this._adjustSettings(t,n,null!=s.until||null!=s.since||r);var a=new Date;(n._since&&n._since<a||n._until&&n._until>a)&&this._addTarget(t[0]),this._updateCountdown(t,n)}},_updateCountdown:function(t,s){var i=e(t);if(s=s||i.data(this.propertyName)){if(i.html(this._generateHTML(s)).toggleClass(this._rtlClass,s.options.isRTL),e.isFunction(s.options.onTick)){var n="lap"!=s._hold?s._periods:this._calculatePeriods(s,s._show,s.options.significant,new Date);(1==s.options.tickInterval||this.periodsToSeconds(n)%s.options.tickInterval==0)&&s.options.onTick.apply(t,[n])}var o="pause"!=s._hold&&(s._since?s._now.getTime()<s._since.getTime():s._now.getTime()>=s._until.getTime());if(o&&!s._expiring){if(s._expiring=!0,this._hasTarget(t)||s.options.alwaysExpire){if(this._removeTarget(t),e.isFunction(s.options.onExpiry)&&s.options.onExpiry.apply(t,[]),s.options.expiryText){var r=s.options.layout;s.options.layout=s.options.expiryText,this._updateCountdown(t,s),s.options.layout=r}s.options.expiryUrl&&(window.location=s.options.expiryUrl)}s._expiring=!1}else"pause"==s._hold&&this._removeTarget(t);i.data(this.propertyName,s)}},_resetExtraLabels:function(e,t){var s=!1;for(var i in t)if("whichLabels"!=i&&i.match(/[Ll]abels/)){s=!0;break}if(s)for(var i in e)i.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[i]=null)},_adjustSettings:function(t,s,i){for(var n,o=0,r=null,a=0;a<this._serverSyncs.length;a++)if(this._serverSyncs[a][0]==s.options.serverSync){r=this._serverSyncs[a][1];break}if(null!=r)o=s.options.serverSync?r:0,n=new Date;else{var p=e.isFunction(s.options.serverSync)?s.options.serverSync.apply(t,[]):null;n=new Date,o=p?n.getTime()-p.getTime():0,this._serverSyncs.push([s.options.serverSync,o])}var l=s.options.timezone;l=null==l?-n.getTimezoneOffset():l,(i||!i&&null==s._until&&null==s._since)&&(s._since=s.options.since,null!=s._since&&(s._since=this.UTCDate(l,this._determineTime(s._since,null)),s._since&&o&&s._since.setMilliseconds(s._since.getMilliseconds()+o)),s._until=this.UTCDate(l,this._determineTime(s.options.until,n)),o&&s._until.setMilliseconds(s._until.getMilliseconds()+o)),s._show=this._determineShow(s)},_destroyPlugin:function(t){t=e(t),t.hasClass(this.markerClassName)&&(this._removeTarget(t[0]),t.removeClass(this.markerClassName).empty().removeData(this.propertyName))},_pausePlugin:function(e){this._hold(e,"pause")},_lapPlugin:function(e){this._hold(e,"lap")},_resumePlugin:function(e){this._hold(e,null)},_hold:function(t,s){var i=e.data(t,this.propertyName);if(i){if("pause"==i._hold&&!s){i._periods=i._savePeriods;var n=i._since?"-":"+";i[i._since?"_since":"_until"]=this._determineTime(n+i._periods[0]+"y"+n+i._periods[1]+"o"+n+i._periods[2]+"w"+n+i._periods[3]+"d"+n+i._periods[4]+"h"+n+i._periods[5]+"m"+n+i._periods[6]+"s"),this._addTarget(t)}i._hold=s,i._savePeriods="pause"==s?i._periods:null,e.data(t,this.propertyName,i),this._updateCountdown(t,i)}},_getTimesPlugin:function(t){var s=e.data(t,this.propertyName);return s?"pause"==s._hold?s._savePeriods:s._hold?this._calculatePeriods(s,s._show,s.options.significant,new Date):s._periods:null},_determineTime:function(e,t){var s=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t},i=function(e){e=e.toLowerCase();for(var t=new Date,s=t.getFullYear(),i=t.getMonth(),n=t.getDate(),o=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),p=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,l=p.exec(e);l;){switch(l[2]||"s"){case"s":a+=parseInt(l[1],10);break;case"m":r+=parseInt(l[1],10);break;case"h":o+=parseInt(l[1],10);break;case"d":n+=parseInt(l[1],10);break;case"w":n+=7*parseInt(l[1],10);break;case"o":i+=parseInt(l[1],10),n=Math.min(n,u._getDaysInMonth(s,i));break;case"y":s+=parseInt(l[1],10),n=Math.min(n,u._getDaysInMonth(s,i))}l=p.exec(e)}return new Date(s,i,n,o,r,a,0)},n=null==e?t:"string"==typeof e?i(e):"number"==typeof e?s(e):e;return n&&n.setMilliseconds(0),n},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(t){var s=this;t._periods=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);for(var _=!1,c=0,d=t.options.significant,h=e.extend({},t._show),m=i;l>=m;m++)_|="?"==t._show[m]&&t._periods[m]>0,h[m]="?"!=t._show[m]||_?t._show[m]:null,c+=h[m]?1:0,d-=t._periods[m]>0?1:0;for(var g=[!1,!1,!1,!1,!1,!1,!1],m=l;m>=i;m--)t._show[m]&&(t._periods[m]?g[m]=!0:(g[m]=d>0,d--));var w=t.options.compact?t.options.compactLabels:t.options.labels,f=t.options.whichLabels||this._normalLabels,y=function(e){var i=t.options["compactLabels"+f(t._periods[e])];return h[e]?s._translateDigits(t,t._periods[e])+(i?i[e]:w[e])+" ":""},v=function(e){var i=t.options["labels"+f(t._periods[e])];return!t.options.significant&&h[e]||t.options.significant&&g[e]?'<span class="'+u._sectionClass+'"><span class="'+u._amountClass+'">'+s._translateDigits(t,t._periods[e])+"</span><br/>"+(i?i[e]:w[e])+"</span>":""};return t.options.layout?this._buildLayout(t,h,t.options.layout,t.options.compact,t.options.significant,g):(t.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(t._hold?" "+this._holdingClass:"")+'">'+y(i)+y(n)+y(o)+y(r)+(h[a]?this._minDigits(t,t._periods[a],2):"")+(h[p]?(h[a]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[p],2):"")+(h[l]?(h[a]||h[p]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[l],2):""):'<span class="'+this._rowClass+" "+this._showClass+(t.options.significant||c)+(t._hold?" "+this._holdingClass:"")+'">'+v(i)+v(n)+v(o)+v(r)+v(a)+v(p)+v(l))+"</span>"+(t.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+t.options.description+"</span>":"")},_buildLayout:function(t,s,_,u,c,d){for(var h=t.options[u?"compactLabels":"labels"],m=t.options.whichLabels||this._normalLabels,g=function(e){return(t.options[(u?"compactLabels":"labels")+m(t._periods[e])]||h)[e]},w=function(e,s){return t.options.digits[Math.floor(e/s)%10]},f={desc:t.options.description,sep:t.options.timeSeparator,yl:g(i),yn:this._minDigits(t,t._periods[i],1),ynn:this._minDigits(t,t._periods[i],2),ynnn:this._minDigits(t,t._periods[i],3),y1:w(t._periods[i],1),y10:w(t._periods[i],10),y100:w(t._periods[i],100),y1000:w(t._periods[i],1e3),ol:g(n),on:this._minDigits(t,t._periods[n],1),onn:this._minDigits(t,t._periods[n],2),onnn:this._minDigits(t,t._periods[n],3),o1:w(t._periods[n],1),o10:w(t._periods[n],10),o100:w(t._periods[n],100),o1000:w(t._periods[n],1e3),wl:g(o),wn:this._minDigits(t,t._periods[o],1),wnn:this._minDigits(t,t._periods[o],2),wnnn:this._minDigits(t,t._periods[o],3),w1:w(t._periods[o],1),w10:w(t._periods[o],10),w100:w(t._periods[o],100),w1000:w(t._periods[o],1e3),dl:g(r),dn:this._minDigits(t,t._periods[r],1),dnn:this._minDigits(t,t._periods[r],2),dnnn:this._minDigits(t,t._periods[r],3),d1:w(t._periods[r],1),d10:w(t._periods[r],10),d100:w(t._periods[r],100),d1000:w(t._periods[r],1e3),hl:g(a),hn:this._minDigits(t,t._periods[a],1),hnn:this._minDigits(t,t._periods[a],2),hnnn:this._minDigits(t,t._periods[a],3),h1:w(t._periods[a],1),h10:w(t._periods[a],10),h100:w(t._periods[a],100),h1000:w(t._periods[a],1e3),ml:g(p),mn:this._minDigits(t,t._periods[p],1),mnn:this._minDigits(t,t._periods[p],2),mnnn:this._minDigits(t,t._periods[p],3),m1:w(t._periods[p],1),m10:w(t._periods[p],10),m100:w(t._periods[p],100),m1000:w(t._periods[p],1e3),sl:g(l),sn:this._minDigits(t,t._periods[l],1),snn:this._minDigits(t,t._periods[l],2),snnn:this._minDigits(t,t._periods[l],3),s1:w(t._periods[l],1),s10:w(t._periods[l],10),s100:w(t._periods[l],100),s1000:w(t._periods[l],1e3)},y=_,v=i;l>=v;v++){var b="yowdhms".charAt(v),D=new RegExp("\\{"+b+"<\\}([\\s\\S]*)\\{"+b+">\\}","g");y=y.replace(D,!c&&s[v]||c&&d[v]?"$1":"")}return e.each(f,function(e,t){var s=new RegExp("\\{"+e+"\\}","g");y=y.replace(s,t)}),y},_minDigits:function(e,t,s){return t=""+t,t.length>=s?this._translateDigits(e,t):(t="0000000000"+t,this._translateDigits(e,t.substr(t.length-s)))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var t=e.options.format,s=[];return s[i]=t.match("y")?"?":t.match("Y")?"!":null,s[n]=t.match("o")?"?":t.match("O")?"!":null,s[o]=t.match("w")?"?":t.match("W")?"!":null,s[r]=t.match("d")?"?":t.match("D")?"!":null,s[a]=t.match("h")?"?":t.match("H")?"!":null,s[p]=t.match("m")?"?":t.match("M")?"!":null,s[l]=t.match("s")?"?":t.match("S")?"!":null,s},_calculatePeriods:function(e,t,s,_){e._now=_,e._now.setMilliseconds(0);var c=new Date(e._now.getTime());e._since?_.getTime()<e._since.getTime()?e._now=_=c:_=e._since:(c.setTime(e._until.getTime()),_.getTime()>e._until.getTime()&&(e._now=_=c));var d=[0,0,0,0,0,0,0];if(t[i]||t[n]){var h=u._getDaysInMonth(_.getFullYear(),_.getMonth()),m=u._getDaysInMonth(c.getFullYear(),c.getMonth()),g=c.getDate()==_.getDate()||c.getDate()>=Math.min(h,m)&&_.getDate()>=Math.min(h,m),w=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},f=Math.max(0,12*(c.getFullYear()-_.getFullYear())+c.getMonth()-_.getMonth()+(c.getDate()<_.getDate()&&!g||g&&w(c)<w(_)?-1:0));d[i]=t[i]?Math.floor(f/12):0,d[n]=t[n]?f-12*d[i]:0,_=new Date(_.getTime());var y=_.getDate()==h,v=u._getDaysInMonth(_.getFullYear()+d[i],_.getMonth()+d[n]);_.getDate()>v&&_.setDate(v),_.setFullYear(_.getFullYear()+d[i]),_.setMonth(_.getMonth()+d[n]),y&&_.setDate(v)}var b=Math.floor((c.getTime()-_.getTime())/1e3),D=function(e,s){d[e]=t[e]?Math.floor(b/s):0,b-=d[e]*s};if(D(o,604800),D(r,86400),D(a,3600),D(p,60),D(l,1),b>0&&!e._since)for(var T=[1,12,4.3482,7,24,60,60],C=l,M=1,x=l;x>=i;x--)t[x]&&(d[C]>=M&&(d[C]=0,b=1),b>0&&(d[x]++,b=0,C=x,M=1)),M*=T[x];if(s)for(var x=i;l>=x;x++)s&&d[x]?s--:s||(d[x]=0);return d}});var _=["getTimes"];e.fn.countdown=function(e){var t=Array.prototype.slice.call(arguments,1);return s(e,t)?u["_"+e+"Plugin"].apply(u,[this[0]].concat(t)):this.each(function(){if("string"==typeof e){if(!u["_"+e+"Plugin"])throw"Unknown command: "+e;u["_"+e+"Plugin"].apply(u,[this].concat(t))}else u._attachPlugin(this,e||{})})};var u=e.countdown=new t}(jQuery);